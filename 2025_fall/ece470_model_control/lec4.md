# Lecture 4, Sep 10, 2025

## Rotational Transformations

* Fix a frame $O_0, x_0, y_0, z_0$ and let $R \in SO(3)$ be a rotation matrix; we will use $R$ to rotate vectors in frame 0
* Consider $w^0 = Rv^0$ -- now $R$ is a rotation matrix in frame 0, representing the action of rotating $v^0$ by some angle
	* This is now a *rotational transformation* in frame 0
		* All rotational transformations (matrices) must have an associated coordinate frame; the matrix operates only on coordinates in that frame
* We can use rotational transformations to generate new frames by rotating the coordinate vectors $x, y, z$ of an existing frame
	* We can define a new frame 1, resulting from rotating each of $x_0, y_0, z_0$ by $R$
	* Then $x_1^0 = Rx_0^0$, $y_1^0 = Ry_0^0$ and $z_1^0 = Rz_0^0$ so $R_1^0 = R\rvec{x_0^0}{y_0^0}{z_0^0}$
	* But note $x_0^0 = \cvec{1}{0}{0}, y_0^0 = \cvec{0}{1}{0}, z_0^0 = \cvec{0}{0}{1}$, therefore $R_1^0 = R$
* The rotation matrix of frame 1 with respect to frame 0 ($R_1^0$) is simply the rotation we apply to the coordinate vectors of frame 0 to get the coordinate vectors of frame 1
* What if we want to represent $R$ in frame 1 instead? If we have $w^0 = Rv^0$, what is $R'$ such that $w^1 = R'v^1$?
	* $w_1 = R_0^1w^0 = (R_1^0)^Tw^0 = (R_1^0)^TRv^0 = (R_1^0)^TRR_1^0v^1$
	* Therefore $R' = (R_1^0)^TR(R_1^0)$
	* Recall from linear algebra that this is a similarity transformation used in a change of basis

### Composition of Rotational Transformations

* Consider a vector $v$ and 3 frames
* $v^0 = R_2^0v^2 = R_1^0v_1 = R_1^0R_2^1v^2 \implies R_2^0 = R_1^0R_2^1$
	* This allows us to compose relative transformations between intermediate frames
	* As a shortcut, notice that the superscript matches the superscript of the left, and the subscript matches the subscript of the right
* Let $R \in SO(3)$ be a rotational transformation in frame 1; we generate frame 2 by rotating frame 1 by $R$; what is $R_2^0$?
	* We know $R_2^0 = R_1^0R_2^1$
	* Since frame 2 is generated by rotating frame 1 by $R$, $R_2^1 = R$, so $R_2^0 = R_1^0R$
		* Note the important point part is that $R$ is a rotation in frame 1 -- this has to match the superscript on $R_2^1$
* Now consider the same problem but $R$ is in frame 0 instead (still used to rotate frame 1 to get frame 2); what is $R_2^0$?
	* $R_2^0 = R_1^0R_2^1 = R_1^0(R_1^0)^TRR_1^0 = RR_1^0$
		* $R$ is in frame 0, but we need it in frame 1, so we apply $R_0^1 = (R_1^0)^T$ on the left and $R_1^0$ on the right
	* Notice that this time the order is reversed!
* Suppose we rotate frame 0 by $\theta$ around $x_0$, then $\phi$ around $z_1$ (of the new frame!) to get frame 2; find $R_2^0$
	* $R_2^0 = R_1^0R_2^1 = R_{x,\theta}R_{z,\phi}$
	* Note we are able to do this only because the rotations are represented in the respective frame that they are happening to
* Now suppose we rotate frame 0 by $\theta$ around $x_0$, then $\phi$ around $z_0$ (old frame), then $\psi$ around $z_2$; find $R_3^0$
	* $R_3^0 = R_1^0R_2^1R_3^2$
	* $R_1^0 = R_{x,\theta}$ and $R_3^2 = R_{z,\psi}$
	* $R_2^1$ is $R_{z,\phi}$ in frame 0, so $R_2^1 = (R_1^0)^TR_{z,\phi}R_1^0$
	* Therefore $R_3^0 = R_1^0R_2^1R_3^2 = R_1^0(R_1^0)^TR_{z,\phi}R_1^0R_{z,\psi} = R_{z,\phi}R_{x,\theta}R_{z,\psi}$
* Let $M_1, M_2, M_3 \in SO(3)$; define frame 1 by rotating frame 0 by $M_1$; define frame 2 by rotating frame 2 by rotating frame 1 by $M_2$, expressed in frame 0; define frame 3 by rotating frame 2 by $M_3$, expressed in frame 1; find $R_3^0$
	* $R_1^0 = M_1$
	* $R_2^1 = (R_1^0)^TM_2R_1^0$
	* $R_3^2 = (R_2^1)^TM_3R_2^1$
	* $\alignedeqntwo[t]{R_3^0}{R_1^0R_2^1R_3^2}{R_1^0R_2^1(R_2^1)^TM_3R_2^1}{R_1^0M_3R_2^1}{M_1M_3M_1^TM_2M_1}$

